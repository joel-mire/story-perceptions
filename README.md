# story-perceptions

### Setup
Clone the repository:
```
git clone https://github.com/joel-mire/story-perceptions.git
cd story-perceptions
```

Create a virtual environment:
```
python -m venv .venv
source .venv/bin/activate  # On Windows, use `.venv\Scripts\activate`
```

Install dependencies:
```
python -m pip install -r requirements.txt
```

### Preprocess Data
Run `preprocess.ipynb`, which:
* downloads the StorySeeker dataset
* rehydrates the texts from StorySeeker's source dataset, [(TLDR)](https://webis.de/data/webis-tldr-17.html).
* queries GPT series models and Llama3 for story labels (if results aren't already cached)
* preprocesses the crowd annotation data, our meta-annotations for crowd rationales, and the StorySeeker texts and labels.

### Run Analysis
Run `analysis.ipynb`, which uses StoryPerceptions to explore 3 research questions:
1. What are crowd workersâ€™ descriptive perceptions of storytelling in social media texts?
2. How do narrative perceptions differ among crowd workers?
3. How do narrative perceptions differ across prescriptive labels from researchers, descriptive annotations from crowd workers, and predictions from LLM-based classifiers?

#### Data Files Overview
| Filename    | Description |
| -------- | ------- |
| codes.csv  | taxonomy codes, derived through qualitative analysis of crowd workers' free-text responses for our annotation task. See paper for details.|
| pc.csv | short for 'prolific_coded'; includes crowd annotations and our meta-annotations; used for most of the intra-crowd analysis |
| pcru_ann1.csv    | the first author's meta-annotations for the full set of the crowd's free-text annotations   |
| pcru_ann2.csv    | the second author's meta-annotations for a small subset of the crowd's free-text annotations  |
| sp.csv*    | an expanded version of the StorySeeker dataset that includes both descriptive labels from crowd workers and descriptive predictions from LLM-based classifiers, in addition to the pre-existing prescriptive labels from researchers |
| sse.csv*    | the StorySeeker dataset, rehydrated with texts downloaded from the TLDR dataset.    |
| tldr_ss_subset.csv*    | the subset of the TLDR dataset corresponding to the StorySeeker texts   |

\* files generated by `preprocess.ipynb`